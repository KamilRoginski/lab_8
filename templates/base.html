<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>{{ title or 'My Flask Site' }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
<nav>
    <a href="{{ url_for('home') }}">Home</a> |
    <a href="{{ url_for('about') }}">About</a> |
    <a href="{{ url_for('contact') }}">Contact</a> |
    {% if session.username %}
    <span>Logged in as {{ session.username }}</span> |
    <a href="{{ url_for('update_password') }}">Change Password</a>
    <a href="{{ url_for('logout') }}">Logout</a>
    {% else %}
    <a href="{{ url_for('register') }}">Register</a> |
    <a href="{{ url_for('login') }}">Login</a>
    {% endif %}
</nav>
<hr>
{% with messages = get_flashed_messages() %}
{% if messages %}
<ul class="flashes">
    {% for msg in messages %}
    <li>{{ msg }}</li>
    {% endfor %}
</ul>
{% endif %}
{% endwith %}
{% block content %}{% endblock %}
</body>
</html>